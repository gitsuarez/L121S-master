<h1>Edit role - <?php  echo $role->name?></h1><?php  if (isset($errors)) : ?><?php  if (isset($errors)) : ?><div data-alert class="alert alert-danger alert-dismissible fade in"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><ul class="validation-ul"><?php  foreach ($errors as $err) : ?><li><?php  echo $err?></li><?php  endforeach;?></ul></div><?php  endif;?><?php  endif; ?><form action="/richard/sites/live121support.com-master/index.php/site_admin/permission/editrole/<?php  echo $role->id?>" method="post"><input type="hidden" name="csfr_token" value="<?php  echo erLhcoreClassUser::instance()->getCSFRToken()?>" /><div class="form-group"><label>Title</label><input class="form-control" type="text" name="Name" value="<?php  echo htmlspecialchars($role->name);?>" /></div><div class="btn-group" role="group" aria-label="..."><input type="submit" class="btn btn-default" name="Update_role" value="Update"/><input type="submit" class="btn btn-default" name="Cancel_role" value="Cancel"/></div><hr><h2>Assigned functions</h2><table class="table"><thead><tr><th width="1%">&nbsp;</th><th>Module</th><th>Function</th></tr></thead><?php  foreach (erLhcoreClassRoleFunction::getRoleFunctions($role->id) as $Function) : ?><tr><td><input type="checkbox" class="mb0" name="PolicyID[]" value="<?php  echo $Function['id']?>" /></td><td><?php  echo htmlspecialchars(erLhcoreClassModules::getModuleName($Function['module']))?>&nbsp;(<b><?php  echo htmlspecialchars($Function['module'])?></b>)</td><td><?php  echo htmlspecialchars(erLhcoreClassModules::getFunctionName($Function['module'],$Function['function']))?>&nbsp;(<b><?php  echo htmlspecialchars($Function['function'])?></b>)</td></tr><?php  endforeach; ?></table><div class="btn-group" role="group" aria-label="..."><input type="submit" class="btn btn-default" name="Delete_policy" value="Remove selected policy"/><input type="submit" class="btn btn-default" name="New_policy" value="New policy" /></div></form><hr><h2>Role assigned groups</h2><form action="/richard/sites/live121support.com-master/index.php/site_admin/permission/editrole/<?php  echo $role->id?>" method="post"><input type="hidden" name="csfr_token" value="<?php  echo erLhcoreClassUser::instance()->getCSFRToken()?>" /><table class="table"><thead><tr><th width="1%">&nbsp;</th><th>Title</th></tr></thead><?php  foreach (erLhcoreClassGroupRole::getRoleGroups($role->id) as $Group) : ?><tr><td><input class="mb0" type="checkbox" name="AssignedID[]" value="<?php  echo $Group['assigned_id']?>" /></td><td><?php  echo htmlspecialchars($Group['name'])?></td></tr><?php  endforeach; ?></table><div class="btn-group" role="group" aria-label="..."><input type="submit" class="btn btn-default" name="Remove_group_from_role" value="Remove selected role"/><input type="button" class="btn btn-default" onclick="lhc.revealModal({'url':'/richard/sites/live121support.com-master/index.php/site_admin/permission/roleassigngroup/<?php  echo $role->id?>'});" name="Assign_group_role" value="Assign a group"/></div></form>